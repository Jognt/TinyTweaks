// Fixes to AirplanePlus ModuleCargoBay Modules.

// Cleanup and tweaking.
@PART[mk1cargodoorjr]:AFTER[AirplanePlus]
{
	@bulkheadProfiles = size1			// Remove srfAttach profile since it can't be srfAttached.
	@MODULE[ModuleCargoBay]
	{
		@lookupRadius = 0.8				// Reduced radius while still covering the whole part interior. May offer ever so slight performance improvement? (Before: 1.5)
		!nodeInnerForeID = dummy 		// Removing entry due to node being undefined and unneeded.
		!nodeInnerAftID = dummy			// Removing entry due to node being undefined and unneeded.
	}
}

// Cleanup, tweaking, and fixing.
@PART[mk1dronedoor]:AFTER[AirplanePlus]
{
	@bulkheadProfiles = size1			// Remove srfAttach profile since it can't be srfAttached.
	@MODULE[ModuleCargoBay]
	{
		%lookupCenter = 0,1.875,0		// offset the center of the lookupRadius into the bay itself to be able to cast rays from it.
		@lookupRadius = 2				// Increased the radius to cover the interior better. (Before: 1.5)
		!nodeOuterAftID = dummy			// Not needed since this part has no open end.
		!nodeInnerAftID = dummy			// Where we're going.. We don't need Nodes.
	}
}

// Tweaking and fixing.
@PART[passengeroor]:AFTER[AirplanePlus] // That partName though!
{
	@bulkheadProfiles = size1			// I'm starting to see a pattern here.
	%MODULE[ModuleCargoBay]				// Can't uncomment the existing one, so we'll add a new one.
	{
		%name = ModuleCargoBay
		%DeployModuleIndex = 0			// Hold the oor! HOLD THE OOR!
		%closedPosition = 1
		%lookupRadius = 0.8				// *sucks thumb* - About this much?
	
		%nodeOuterForeID = top
		%nodeOuterAftID = bottom
	}
}